<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>产品展示</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#3B82F6',
            secondary: '#1E40AF',
            dark: '#1E293B',
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      /* 轮播核心样式（强化触摸滑动体验） */
      .carousel-container {
        @apply relative w-full overflow-hidden;
        touch-action: pan-y; /* 优化移动端触摸：只允许垂直滚动，避免与水平滑动冲突 */
      }
      .carousel-track {
        @apply flex transition-transform duration-500 ease-out; /* 保持平滑过渡，确保触摸切换不卡顿 */
      }
      .carousel-item {
        @apply min-w-full relative; /* 确保每项占满容器，为循环滑动奠定基础 */
      }
      .carousel-item img {
        @apply w-full h-full object-cover;
        user-select: none; /* 禁止图片被选中，避免触摸滑动时出现选中框 */
        -webkit-user-drag: none; /* 禁止图片拖拽，防止与轮播滑动冲突 */
      }
      .indicator {
        @apply w-8 h-2 rounded-full transition-all duration-300 bg-white/50 cursor-pointer;
      }
      .indicator.active {
        @apply bg-primary w-12;
      }

      /* 视频区域样式 */
      .video-container {
        @apply relative w-full rounded-xl overflow-hidden shadow-lg bg-dark;
        padding-top: 56.25%; /* 16:9 标准视频比例 */
      }
      .video-container video {
        @apply absolute inset-0 w-full h-full object-contain;
      }

      /* 交互提示样式（突出触摸滑动引导） */
      .swipe-hint {
        @apply absolute bottom-20 left-1/2 -translate-x-1/2 bg-black/60 text-white px-5 py-2.5 rounded-full text-sm flex items-center gap-2 z-10 animate-pulse;
        /* 保留提示（原逻辑3秒隐藏，现调整为更明显的引导） */
      }
    }
  </style>
</head>
<body class="font-inter bg-gray-100 min-h-screen flex items-center justify-center p-4">
  <div class="container mx-auto px-4 py-8 max-w-7xl">
    <!-- 轮播容器（已移除左右控制按钮，强化触摸循环） -->
    <div class="carousel-container rounded-xl shadow-2xl mb-8" style="max-height: 80vh;">
      <!-- 轮播轨道 -->
      <div id="carouselTrack" class="carousel-track">
        <!-- 轮播项1 -->
        <div class="carousel-item">
          <img src="images/1.jpg" alt="产品展示图1" class="w-full h-full object-cover">
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6 text-white">
            <!--<h2 class="text-2xl md:text-3xl font-bold mb-2">能量转移型主动均衡板</h2>
            <p>高效电池管理解决方案</p>-->
          </div>
        </div>
        
        <!-- 轮播项2 -->
        <div class="carousel-item">
          <img src="images/2.jpg" alt="产品展示图2" class="w-full h-full object-cover">
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6 text-white">
            <!--<h2 class="text-2xl md:text-3xl font-bold mb-2">智能电池管理系统</h2>
            <p>延长电池寿命，提升使用效率</p>-->
          </div>
        </div>
        
        <!-- 轮播项3 -->
        <div class="carousel-item">
          <img src="images/3.jpg" alt="产品展示图3" class="w-full h-full object-cover">
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6 text-white">
            <!--<h2 class="text-2xl md:text-3xl font-bold mb-2">多规格适配设计</h2>
            <p>满足不同场景的电池需求</p>-->
          </div>
        </div>
        
        <!-- 轮播项4 -->
        <div class="carousel-item">
          <img src="images/4.jpg" alt="产品展示图4" class="w-full h-full object-cover">
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6 text-white">
            <!--<h2 class="text-2xl md:text-3xl font-bold mb-2">精密控制技术</h2>
            <p>稳定可靠的性能表现</p>-->
          </div>
        </div>

        <!-- 轮播项5 -->
        <div class="carousel-item">
          <img src="images/5.jpg" alt="产品展示图4" class="w-full h-full object-cover">
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6 text-white">
            <!--<h2 class="text-2xl md:text-3xl font-bold mb-2">精密控制技术</h2>
            <p>稳定可靠的性能表现</p>-->
          </div>
        </div>    
              <!-- 轮播项6 -->
        <div class="carousel-item">
          <img src="images/6.jpg" alt="产品展示图4" class="w-full h-full object-cover">
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6 text-white">
            <!--<h2 class="text-2xl md:text-3xl font-bold mb-2">精密控制技术</h2>
            <p>稳定可靠的性能表现</p>-->
          </div>
        </div>
      </div>
      <!-- 滑动提示（强化触摸引导，保留在所有设备显示） -->
      <div class="swipe-hint">
        <i class="fa fa-hand-o-left"></i>
        <span>左右滑动切换</span>
        <i class="fa fa-hand-o-right"></i>
      </div>
      
      <!-- 指示器（保留点击切换功能） -->
      <div class="absolute bottom-6 left-0 right-0 flex justify-center gap-2 z-20">
        <div class="indicator active" data-index="0"></div>
        <div class="indicator" data-index="1"></div>
        <div class="indicator" data-index="2"></div>
        <div class="indicator" data-index="3"></div>
		<div class="indicator" data-index="4"></div>
        <div class="indicator" data-index="5"></div>
      </div>
      
      <!-- 已完全移除左右控制按钮 -->
    </div>
        <header class="mb-8 text-center">
      <!--<h1 class="text-[clamp(1.8rem,4vw,2.8rem)] font-bold text-gray-800 mb-2">轮播指示器样式切换</h1>-->
      <p class="text-gray-600 text-lg">视频教程</p>
    </header>
    <!-- 视频播放区域 -->
    <section class="mb-8">
      <div class="flex flex-col md:flex-row gap-6">
        <!-- 视频播放器 -->		
        <div class="w-full md:w-2/3">
          <div class="video-container">
            <video 
              controls
              poster="images/3.jpg"
              preload="metadata">
              <source src="https://hcsy-prod-review.oss-cn-shenzhen.aliyuncs.com/hcsy/review/trace-produce-item/2025/07/15/284310858353905666/8633438519685967872-f8f75cdb44854747b62e560304505c3f.mp4?Expires=1755968891&OSSAccessKeyId=STS.NZSpQzVjqBcMHQw2RaRrrWbUP&Signature=dFVdSR0MfqGCF6HNaytyz%2FRdmj0%3D&security-token=CAISkgN1q6Ft5B2yfSjIr5nmO%2BvOu7VQ9aGmSnfG1lI0Xv1euKf%2Bsjz2IHhMdHJsAOodtv0%2FmmhT6PkclqZLcbhpcmL%2FRuxKw6N11Sj56lZKEynuv9I%2Bk5SANTW58HeZtZaghoybIfrZfvCyER%2Bm8gZ43br9cxi7QlWhKufnoJV7b9MRLG7aCD1dH4V5KxdFos0XPmerBpTLCBPxhXfKB0dFoxd1jXgFiZ6y2cqB8BHT%2FgqYn%2BYevNb2OYP2LZsubpd0SMbwxPZxeu%2Fb3TBR5gcN9Kxtnete9CnGs87aH0NY6BjDK%2FDT%2FsBkIUp4eqU%2FXOxm1KGmzKUl57OIx9yumkkRYrFvPn6BFNz68qztA%2Fi0M9s1T7H%2FNknW38qHXpuP6Ft8MSlHbVkRI4NxdCcrV0NyUFfAI6qg40vNZAOyUaWM3LG4QXPISqITlzDjBi9sI93xuU5wUve3f9Mrqqgg1iVn%2Fvuz%2BejwpxEv%2BUwdRf8JNkqG8f2y4FOPCvA8lygL5SYmW%2FvusCkVEY%2FnVvwuYXOVmMou2wMagAG0YUjSeDsKGP7iSdli7whf0n0%2FRPlr41oAlu1ucaBduDEBESaE%2FGxo8dgRVNgpN1z5i80hmUN%2FHOCQjqFBUyULXoJWKQEQEky3keTliq%2FNWkCu0YfR%2FlZht7ZlMvJxXwlEjah1DpOWFwC9NhZY347J%2FFTnb%2Bw63lzWvVrbXkrcbiAA" type="video/mp4">
              <source src="images/sp.webm" type="video/webm">
              您的浏览器不支持视频播放
           </video>
          </div>
        </div>
        
        <!-- 视频信息 -->
        <div class="w-full md:w-1/3 bg-white p-6 rounded-xl shadow-lg flex flex-col justify-center">
          <h2 class="text-2xl font-bold text-gray-800 mb-3">产品参数</h2>
          <p class="text-gray-600 mb-4">
            作为专为电池系统优化设计的核心管理组件，本品通过精准能量调控技术，从根源解决电池组不均衡问题，显著延长电池循环寿命、提升系统运行稳定性，适配多场景储能与动力需求。
          </p>
          <ul class="text-gray-600 space-y-2 mb-6">
            <li class="flex items-start">
              <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
              <span>均衡功率 0-8安 0-100瓦</br>快速响应不同容量电池的均衡需求，避免局部过充过放，保障电池组一致性。</span>
            </li>
            <li class="flex items-start">
              <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
              <span>电池容量 10-200安通用</br>主流电池容量区间，无需因电池容量差异单独调试，适配家用储能、房车电源、低速车等多场景电池组。</span>
            </li>
            <li class="flex items-start">
              <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
              <span>适用   24-48伏  24-60伏  24-72伏</br>多规格电压系统，无需额外改装即可接入不同电压等级的电池组，降低适配成本。</span>
            </li>
            <li class="flex items-start">
              <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
              <span>智能温控保护系统</br>内置高精度温度传感器与动态保护算法，当设备温度异常升高时，自动调节均衡功率或启动保护机制，避免高温损坏元件，保障极端环境下的稳定运行。</span>
            </li>
            <li class="flex items-start">
              <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
              <span>高效能量转换技术</br>采用先进的 DC-DC能量转移架构，能量转移效率高，均衡过程中减少能量损耗，既提升均衡效率，又降低系统能耗，符合节能需求。</span>
            </li>
          </ul>
           <!--<button class="bg-primary hover:bg-secondary text-white py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50">
            查看详细规格
          </button>-->
        </div>
      </div>
    </section>
  </div>

  <script>
    // 轮播核心逻辑（重点强化触摸循环滑动，移除按钮相关代码）
    const carouselTrack = document.getElementById('carouselTrack');
    const carouselItems = document.querySelectorAll('.carousel-item');
    const indicators = document.querySelectorAll('.indicator');
    const swipeHint = document.querySelector('.swipe-hint'); // 仅保留触摸提示，移除按钮变量

    let currentIndex = 0;
    const itemCount = carouselItems.length;
    let isDragging = false;
    let startX;
    let currentTranslate = 0;
    let prevTranslate = 0;
    let animationID;

    // 初始化轮播（优化无缝循环+触摸体验）
    function initCarousel() {
      // 1. 复制首尾项作为克隆项（核心：实现触摸循环的视觉无缝衔接）
      const firstClone = carouselItems[0].cloneNode(true); // 复制第一项，用于最后一项向右触摸滑的衔接
      const lastClone = carouselItems[itemCount - 1].cloneNode(true); // 复制最后一项，用于第一项向左触摸滑的衔接
      firstClone.classList.add('clone');
      lastClone.classList.add('clone');

      // 2. 插入克隆项：轨道末尾加第一项克隆，轨道开头加最后一项克隆
      carouselTrack.appendChild(firstClone);
      carouselTrack.insertBefore(lastClone, carouselItems[0]);

      // 3. 初始位置设为原第一项（跳过左侧克隆项，避免初始显示空白）
      currentIndex = 1; 
      setPositionByIndex();
      setupEventListeners();

      // 优化触摸提示：延长显示时间（从3秒改为5秒），确保用户看到引导
      setTimeout(() => {
        swipeHint.classList.add('opacity-0', 'transition-opacity', 'duration-1000');
        setTimeout(() => swipeHint.style.display = 'none', 1000);
      }, 5000);
    }

    // 设置轮播位置（确保触摸循环时指示器同步）
    function setPositionByIndex() {
      // 按百分比计算移动距离（每项占100%宽度，触摸滑动时按比例移动）
      currentTranslate = currentIndex * -100;
      prevTranslate = currentTranslate;
      carouselTrack.style.transform = `translateX(${currentTranslate}%)`;
      carouselTrack.style.transition = 'transform 0.5s ease-out'; // 触摸结束后平滑过渡

      // 映射克隆项索引到原项，同步指示器激活状态
      let targetIndicatorIndex;
      if (currentIndex === 0) {
        // 触摸滑到左侧克隆项（原最后一项）→ 指示器同步最后一个
        targetIndicatorIndex = itemCount - 1;
      } else if (currentIndex === itemCount + 1) {
        // 触摸滑到右侧克隆项（原第一项）→ 指示器同步第一个
        targetIndicatorIndex = 0;
      } else {
        // 触摸在原项范围内 → 直接对应原项索引
        targetIndicatorIndex = currentIndex - 1;
      }
      indicators.forEach((indicator, i) => {
        indicator.classList.toggle('active', i === targetIndicatorIndex);
      });
    }

    // 过渡结束处理（解决触摸循环的"跳变"问题）
    function handleTransitionEnd() {
      // 情况1：触摸从原最后一项向右滑到右侧克隆项
      if (currentIndex === itemCount + 1) {
        carouselTrack.style.transition = 'none'; // 关闭过渡，避免用户看到"回跳"
        currentIndex = 1; // 瞬间跳回原第一项，实现"循环"
        setPositionByIndex();
      } 
      // 情况2：触摸从原第一项向左滑到左侧克隆项
      else if (currentIndex === 0) {
        carouselTrack.style.transition = 'none';
        currentIndex = itemCount; // 瞬间跳回原最后一项，实现"循环"
        setPositionByIndex();
      }
    }

    // 切换下一项（触摸滑动触发）
    function nextSlide() {
      if (isDragging) return; // 触摸拖拽中禁止切换，避免冲突
      currentIndex++;
      setPositionByIndex();
    }

    // 切换上一项（触摸滑动触发）
    function prevSlide() {
      if (isDragging) return;
      currentIndex--;
      setPositionByIndex();
    }

    // 触摸开始（记录初始位置，为滑动计算做准备）
    function touchStart(e) {
      // 区分触摸事件（移动端）和鼠标事件（桌面端）
      startX = e.type === 'touchstart' ? e.changedTouches[0].clientX : e.clientX;
      isDragging = true;
      carouselTrack.style.transition = 'none'; // 触摸拖拽时关闭过渡，确保实时跟随
      animationID = requestAnimationFrame(animation);
      swipeHint.classList.add('opacity-0'); // 触摸开始时隐藏提示，避免干扰
    }

    // 触摸移动（实时计算移动距离，更新轮播位置）
    function touchMove(e) {
      if (!isDragging) return;
      const x = e.type === 'touchmove' ? e.changedTouches[0].clientX : e.clientX;
      // 按容器宽度比例计算移动百分比（确保不同屏幕尺寸下滑动灵敏度一致）
      currentTranslate = prevTranslate + (x - startX) / carouselTrack.parentElement.offsetWidth * 100;
    }

    // 触摸结束（判断是否需要切换项，或回弹到原位置）
    function touchEnd() {
      cancelAnimationFrame(animationID);
      isDragging = false;
      carouselTrack.style.transition = 'transform 0.5s ease-out'; // 恢复过渡，实现平滑切换

      // 触摸移动距离超过10%容器宽度则切换项，否则回弹
      const movedBy = currentTranslate - prevTranslate;
      if (movedBy < -10) { // 向左触摸滑动超过10% → 切换下一项
        nextSlide();
      } else if (movedBy > 10) { // 向右触摸滑动超过10% → 切换上一项
        prevSlide();
      } else {
        // 移动距离不足 → 回弹到原项
        setPositionByIndex();
      }
    }

    // 动画帧（确保触摸拖拽时轮播实时跟随手指/鼠标）
    function animation() {
      carouselTrack.style.transform = `translateX(${currentTranslate}%)`;
      if (isDragging) requestAnimationFrame(animation);
    }

    // 事件监听（移除按钮相关，强化触摸+鼠标拖拽）
    function setupEventListeners() {
      // 1. 指示器点击切换（辅助触摸功能）
      indicators.forEach((indicator, i) => {
        indicator.addEventListener('click', () => {
          currentIndex = i + 1; // 映射到原项索引
          setPositionByIndex();
        });
      });

      // 2. 触摸事件（移动端核心交互）
      const container = carouselTrack.parentElement;
      container.addEventListener('touchstart', touchStart, { passive: true }); // passive优化触摸性能
      container.addEventListener('touchmove', touchMove, { passive: true });
      container.addEventListener('touchend', touchEnd);
      container.addEventListener('touchcancel', touchEnd); // 处理触摸意外中断（如来电）

      // 3. 鼠标拖拽事件（桌面端兼容，模拟触摸体验）
      container.addEventListener('mousedown', touchStart);
      container.addEventListener('mousemove', touchMove);
      container.addEventListener('mouseup', touchEnd);
      container.addEventListener('mouseleave', touchEnd); // 鼠标移出容器时结束拖拽

      // 4. 键盘控制（保留桌面端辅助功能）
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') prevSlide();
        else if (e.key === 'ArrowRight') nextSlide();
      });

      // 5. 过渡结束事件（确保触摸循环无缝）
      carouselTrack.addEventListener('transitionend', handleTransitionEnd);
    }

    // 页面加载完成后初始化轮播
    window.addEventListener('DOMContentLoaded', initCarousel);
  </script>
</body>
</html>






